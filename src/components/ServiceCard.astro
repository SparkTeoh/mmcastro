---
// 可复用的服务卡片组件
export interface Props {
  service: {
    title: string;
    description: string;
    coreSolution?: string;
    icon: string;
    image: string;
    link: string;
  };
  variant?: 'default' | 'compact';
  showCoreSolution?: boolean;
}

const { service, variant = 'default', showCoreSolution = true } = Astro.props;
---

<div class="bg-white box-shadow-primary overflow-visible rounded-lg">
  <div class="relative">
    {service.image && (
      <img
        src={service.image}
        alt={`${service.title} 服务图片`}
        width="416"
        height="288"
        class="h-64 w-full min-w-full object-cover rounded-t-lg"
      />
    )}
    {service.icon && (
      <div class="bg-primary absolute -bottom-8 left-6 flex h-16 w-16 items-center justify-center rounded-full fill-white transition duration-300 shadow-lg">
        <img
          alt="服务图标"
          src={service.icon}
          width="32"
          height="32"
          class="h-8 w-8 text-white transition duration-300"
          style="filter: brightness(0) invert(1);"
        />
      </div>
    )}
  </div>
  <div class="px-6 pt-12 pb-8 overflow-visible">
    {service.title && (
      <div class="mb-4">
        <h3 class="text-h4 text-theme-dark mb-3 leading-tight" set:html={service.title} />
        <div class="h-1 w-12 bg-primary rounded-full"></div>
      </div>
    )}
    
    {service.description && (
      <p class="text-text-default/80 mb-4 leading-relaxed text-sm" set:html={service.description} />
    )}
    
    {service.coreSolution && showCoreSolution && (
      <div class="bg-blue-50 border-l-4 border-primary p-4 mb-6 rounded-r-lg">
        <h4 class="text-sm font-semibold text-primary mb-2">核心解决：</h4>
        <p class="text-sm text-text-default/70" set:html={service.coreSolution} />
      </div>
    )}
    
    <a 
      href={service.link} 
      class="inline-flex items-center px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-all duration-300 hover:scale-105 shadow-md text-sm"
    >
      了解更多
      <svg class="inline-block ml-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </a>
  </div>
</div>

<style>
  .box-shadow-primary {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }
</style>
